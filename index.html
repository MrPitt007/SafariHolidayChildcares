

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Safari Holiday Childcare</title>
  <meta name="description" content="Trusted safari holiday childcare for ages 5‚Äì12 at partner lodges. Flexible hours, play‚Äëbased learning, and safety first." />

  <style>
    :root{
      --bg: #000; --panel: rgba(10,11,13,.72); --text: #f8fafc; --muted: #cbd5e1;
      --accent: #22c55e; --border: rgba(148,163,184,.25); --shadow: 0 8px 24px rgba(0,0,0,.45);
      --radius: 16px; --maxw: 1080px;

      /* Zoomed‚Äëout 3D */
      --cubeZ: 180px;        /* shallower depth ‚Üí smaller apparent size */
      --tiltX: 0deg; --tiltY: 0deg;
    }

    *{ box-sizing:border-box }
    html{ height:100%; scroll-behavior:smooth; }
    body{
      min-height:100%; margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:var(--bg); color:var(--text); line-height:1.6; letter-spacing:.2px; overflow-x:hidden;
    }

    /* ===== Fullscreen 3D background ===== */
    .bg-3d{ position:fixed; inset:0; z-index:-3; perspective:5400px; overflow:hidden; background:#000; pointer-events:auto; }
    .cube-wrap{ position:absolute; top:50%; left:50%; transform-style:preserve-3d; transform:translate(-50%,-50%) rotateX(var(--tiltX)) rotateY(var(--tiltY)); will-change:transform; }
    .cube{ position:relative; width:220vmax; height:140vmax; transform-style:preserve-3d; animation:spin 48s linear infinite; will-change:transform; }
    .cube.paused{ animation-play-state: paused; } .bg-3d:hover .cube{ animation-play-state: paused; }

    .face{
      position:absolute; top:50%; left:50%; width:110vmax; height:80vmax; transform:translate(-50%,-50%);
      background-size:cover; background-position:center; backface-visibility:hidden; -webkit-backface-visibility:hidden;
      transform:translateZ(0) translate3d(0,0,0); -webkit-transform:translateZ(0);
      filter:saturate(1.02) contrast(1.03); outline:1px solid transparent; will-change:transform;
    }
    .front{ transform:translate(-50%,-50%) translateZ(var(--cubeZ));                  background-image:url('kid1.jpg.webp'); }
    .right{ transform:translate(-50%,-50%) rotateY( 90deg) translateZ(var(--cubeZ));  background-image:url('kid2.jpg.webp'); }
    .back { transform:translate(-50%,-50%) rotateY(180deg) translateZ(var(--cubeZ));  background-image:url('kid3.jpg.png'); }
    .left { transform:translate(-50%,-50%) rotateY(-90deg) translateZ(var(--cubeZ));  background-image:url('kid4.jpg.jpg'); }

    @keyframes spin{
      0%{transform:rotateX(0deg) rotateY(0deg)} 20%{transform:rotateX(2deg) rotateY(0deg)}
      25%{transform:rotateX(0deg) rotateY(-90deg)} 45%{transform:rotateX(-2deg) rotateY(-90deg)}
      50%{transform:rotateX(0deg) rotateY(-180deg)} 70%{transform:rotateX(2deg) rotateY(-180deg)}
      75%{transform:rotateX(0deg) rotateY(-270deg)} 95%{transform:rotateX(-2deg) rotateY(-270deg)}
      100%{transform:rotateX(0deg) rotateY(-360deg)}
    }
    @media (prefers-reduced-motion: reduce){ .cube{ animation:none; } }

    /* Readability overlay */
    .bg-overlay{
      position:fixed; inset:0; z-index:-2; pointer-events:none;
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(34,197,94,.12), transparent),
        radial-gradient(900px 400px at 90% -20%, rgba(56,189,248,.10), transparent),
        linear-gradient(rgba(0,0,0,.56), rgba(0,0,0,.56));
    }

    /* ===== Site UI ===== */
    .nav{ position:sticky; top:0; z-index:50; backdrop-filter:blur(8px); background:rgba(0,0,0,.45); border-bottom:1px solid var(--border); }
    .nav-inner{ max-width:var(--maxw); margin:0 auto; padding:14px 20px; display:flex; gap:16px; align-items:center; justify-content:space-between; }
    .brand a{ text-decoration:none; color:var(--text); font-weight:800; }
    .menu{ display:flex; gap:14px; flex-wrap:wrap; }
    .menu a{ color:var(--muted); text-decoration:none; padding:8px 12px; border-radius:10px; }
    .menu a:hover{ background:rgba(0,0,0,.35); color:var(--text); }
    .cta{ background:var(--accent); color:#052e16; font-weight:700; }

    section{ scroll-margin-top:80px; }
    .wrap{ max-width:var(--maxw); margin:0 auto; padding:56px 20px; }
    .hero{ min-height:70vh; display:flex; align-items:center; border-bottom:1px solid var(--border); }
    .panel{ background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); padding:24px; }
    .hero h1{ font-size:clamp(28px,4vw,48px); line-height:1.15; margin:12px 0 10px; }
    .hero p{ color:var(--muted); max-width:60ch; }
    .buttons{ display:flex; flex-wrap:wrap; gap:12px; margin-top:18px; }
    .btn{ display:inline-block; padding:12px 16px; border-radius:12px; text-decoration:none; border:1px solid var(--border); }
    .btn.primary{ background:var(--accent); color:#052e16; font-weight:700; border-color:transparent; }
    .btn.secondary{ background:rgba(0,0,0,.45); color:var(--text); }

    h2{ font-size:clamp(22px,3vw,32px); margin:0 0 10px; }
    h3{ font-size:clamp(18px,2.2vw,24px); margin:0 0 8px; }
    .small{ font-size:14px; color:var(--muted); }
    ul{ padding-left:18px; }
    .grid{ display:grid; gap:18px; }
    @media (min-width:900px){ .grid.cols-2{ grid-template-columns:1fr 1fr; } .grid.cols-3{ grid-template-columns:repeat(3,1fr);} }
    .price-line{ margin-top:10px; }
    .price-amount{ font-size:28px; font-weight:800; }
    .price-currency{ font-size:14px; color:var(--muted); margin-left:6px; }

    /* Currency UI */
    .currency-toggle{ display:flex; gap:8px; align-items:center; margin-bottom:12px; flex-wrap:wrap; }
    .chip{ border:1px solid var(--border); background:#0b1220; color:#cfe6ff; padding:6px 10px; border-radius:999px; cursor:pointer; user-select:none; font-size:14px; }
    .chip.active{ background:var(--accent); color:#052e16; font-weight:700; border-color:transparent; }

    /* Converter UI */
    .converter{ margin-top:22px; display:grid; gap:12px; grid-template-columns:1fr; }
    .converter .row{ display:grid; gap:12px; grid-template-columns:1fr 1fr 1fr; }
    @media (max-width:700px){ .converter .row{ grid-template-columns:1fr; } }
    .conv-result{ font-size:18px; font-weight:700; color:#a7f3d0; }
  </style>
</head>

<body id="top">
  <!-- Fullscreen 3D background -->
  <div class="bg-3d" aria-hidden="true">
    <div class="cube-wrap" id="cubeWrap">
      <div class="cube" id="cube">
        <div class="face front"></div>
        <div class="face right"></div>
        <div class="face back"></div>
        <div class="face left"></div>
      </div>
    </div>
  </div>
  <div class="bg-overlay" aria-hidden="true"></div>

  <!-- Navigation -->
  <nav class="nav" role="navigation" aria-label="Primary">
    <div class="nav-inner">
      <div class="brand"><a href="#top">Safari Holiday Childcare</a></div>
      <div class="menu">
        <a class="cta" href="#booking">Book Now</a>
        <a href="#about">About</a>
        <a href="#safety">Safety &amp; Trust</a>
        <a href="#reviews">Reviews</a>
        <a href="#nanny">Hire a Nanny</a>
        <a href="#pricing">Pricing</a>
        <a href="#contact">Contact</a>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <header class="hero" role="banner">
    <div class="wrap">
      <div class="panel">
        <h1>Childcare you can trust‚Äîso your safari can be unforgettable</h1>
        <p>Qualified carers for ages 5‚Äì12 at partner lodges. Flexible hours, play‚Äëbased learning, and safety first.</p>
        <div class="buttons">
          <a class="btn primary" href="#booking">Book a session</a>
          <a class="btn secondary" href="#safety">See our safety measures</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Booking -->
  <section id="booking" aria-labelledby="book-now">
    <div class="wrap grid cols-2">
      <div class="panel">
        <h2 id="book-now">Book Now</h2>
        <p>Choose a time that suits your itinerary. We‚Äôll confirm details and match your family with a qualified carer.</p>
        <div class="buttons">
          <a class="btn primary" href="https://wa.me/YOUR_WHATSAPP_NUMBER?text=Hi%20Safari%20Holiday%20Childcare%2C%20I%27d%20like%20to%20ask%20about%20availability." target="_blank" rel="noopener">üí¨ WhatsApp us</a>
          <a class="btn" href="#contact">Prefer email? Contact us</a>
        </div>
        <div class="small" style="margin-top:10px">Languages: English ‚Ä¢ Swahili ‚Ä¢ Afrikaans (ask for others)</div>
      </div>

      <div class="panel">
        <h3>Quick request</h3>
        <form id="quickRequest" action="https://formspree.io/f/YOUR_FORMSPREE_ID" method="POST">
          <div class="row">
            <div>
              <label for="qr-name">Name</label>
              <input id="qr-name" name="name" required />
            </div>
            <div>
              <label for="qr-email">Email</label>
              <input id="qr-email" name="email" type="email" required />
            </div>
          </div>
          <div class="row">
            <div>
              <label for="qr-datetime">Desired date &amp; time</label>
              <input id="qr-datetime" name="datetime" placeholder="e.g., 12 Oct, 2‚Äì6pm" />
            </div>
            <div>
              <label for="qr-phone">Phone</label>
              <input id="qr-phone" name="phone" placeholder="optional" />
            </div>
          </div>
          <div style="margin-top:12px">
            <label for="qr-notes">Notes (children ages, lodge, requests)</label>
            <textarea id="qr-notes" name="notes" rows="4"></textarea>
          </div>
          <input type="hidden" name="_subject" value="New quick request from Safari Holiday Childcare" />
          <button class="btn primary" type="submit" style="margin-top:12px">Send request</button>
          <div class="status" id="qr-status" aria-live="polite"></div>
        </form>
      </div>
    </div>
  </section>

  <!-- About -->
  <section id="about" aria-labelledby="about-title">
    <div class="wrap grid cols-2">
      <div class="panel">
        <h2 id="about-title">About Our Nanny Service (Ages 5‚Äì12)</h2>
        <p>Safari Holiday Childcare provides trusted, professional nanny services for children aged 5 to 12 years within South African safari lodges and holiday resorts. Our service is designed to give parents peace of mind while they enjoy game drives, spa treatments, private dinners, or excursions, knowing their children are safe, supervised, and happily engaged.</p>
        <p>Our trained nannies create a structured yet fun environment that balances play, learning, and relaxation. Activities are carefully planned to suit each child‚Äôs age, interests, and energy level, ensuring every child feels comfortable, included, and cared for.</p>
      </div>
      <div class="panel">
        <h3>What Our Nannies Do</h3>
        <ul>
          <li>Supervised care in safe resort areas.</li>
          <li>Age‚Äëappropriate activities: arts &amp; crafts, puzzles, reading, storytelling, nature‚Äëinspired play.</li>
          <li>Educational engagement: animals, conservation, and local culture through games and guided activities.</li>
          <li>Routine support: mealtimes, quiet time, homework (if required), and bedtime routines for evening bookings.</li>
          <li>Emotional care and supervision tailored to new holiday environments.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Safety & Trust -->
  <section id="safety" aria-labelledby="safety-title">
    <div class="wrap">
      <div class="panel">
        <h2 id="safety-title">Safety &amp; Trust</h2>
        <div class="grid cols-3">
          <div><h3>ü©∫ First Aid</h3><p>First aid &amp; CPR certification (renewed annually).</p></div>
          <div><h3>üßë‚Äçüè´ Trained Staff</h3><p>Ongoing training with child safeguarding and education modules.</p></div>
          <div><h3>üõ°Ô∏è Safeguarding</h3><p>Enhanced background checks and supervised protocols.</p></div>
        </div>
        <div class="grid cols-3">
          <div><h3>üìã Protocols</h3><p>Secure check‚Äëin/out with ID verification; lodge risk assessments and daily site checks.</p></div>
          <div><h3>üöë Emergency readiness</h3><p>On‚Äësite kits, radio/phone connectivity, and lodge coordination. Local contacts posted at check‚Äëin.</p></div>
          <div><h3>üåø Allergies &amp; Medication</h3><p>Please share medical needs during booking. We store details securely and brief your carer.</p></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Reviews -->
  <section id="reviews" aria-labelledby="reviews-title">
    <div class="wrap grid cols-3">
      <div class="panel"><h3 id="reviews-title">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</h3><p>‚ÄúOur kids loved the animal tracking games! We felt completely at ease.‚Äù</p><p class="small">‚Äî Emma ‚Ä¢ July 2025</p></div>
      <div class="panel"><h3>‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</h3><p>‚ÄúFlexible hours and super professional. The best part of our trip.‚Äù</p><p class="small">‚Äî Daniel ‚Ä¢ Aug 2025</p></div>
      <div class="panel"><h3>‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</h3><p>‚ÄúSafety briefing was thorough and the activities were meaningful.‚Äù</p><p class="small">‚Äî Aisha ‚Ä¢ Sept 2025</p></div>
    </div>
  </section>

  <!-- Hire a Nanny -->
  <section id="nanny" aria-labelledby="nanny-title">
    <div class="wrap">
      <div class="panel grid cols-3">
        <div><h2 id="nanny-title">Hire a Nanny</h2><p>For families wanting consistent care across multiple days, book a private nanny.</p></div>
        <div><h3>Daily &amp; multi‚Äëday</h3><p>Evenings available</p></div>
        <div><h3>Sibling discounts</h3><p><a class="btn" href="#booking">Check availability</a></p></div>
      </div>
    </div>
  </section>

  <!-- Pricing (USD/ZAR/GBP/EUR toggle + visible default prices + converter) -->
  <section id="pricing" aria-labelledby="pricing-title">
    <div class="wrap">
      <h2 id="pricing-title" style="margin-bottom:8px;">Pricing</h2>

      <!-- Currency toggle -->
      <div class="currency-toggle" role="group" aria-label="Currency selector">
        <span style="color:var(--muted);">Currency:</span>
        <button type="button" class="chip active" id="btnUSD" aria-pressed="true">USD ($)</button>
        <button type="button" class="chip" id="btnZAR" aria-pressed="false">ZAR (R)</button>
        <button type="button" class="chip" id="btnGBP" aria-pressed="false">GBP (¬£)</button>
        <button type="button" class="chip" id="btnEUR" aria-pressed="false">EUR (‚Ç¨)</button>
        <span class="small" style="margin-left:8px;">(Use Converter to set/update rates)</span>
      </div>

      <div class="grid cols-3">
        <!-- Basic -->
        <div class="panel">
          <h3>Basic</h3>
          <p>Perfect for short sessions during your safari holiday.</p>
          <ul>
            <li>Up to 3 hours of care</li>
            <li>Age‚Äëappropriate activities</li>
            <li>Snack supervision</li>
          </ul>
          <p class="price-line">
            <!-- Visible by default; JS updates these spans -->
            <span class="price-amount" data-usd="50" data-unit="session" data-price>$50</span>
            <span class="price-currency" data-currency>/ session</span>
          </p>
          <p><a class="btn" href="#booking">Book Now</a></p>
        </div>

        <!-- Standard -->
        <div class="panel">
          <h3>Standard</h3>
          <p>Ideal for half‚Äëday coverage while you enjoy excursions.</p>
          <ul>
            <li>Up to 6 hours of care</li>
            <li>Educational activities &amp; games</li>
            <li>Meal assistance</li>
          </ul>
          <p class="price-line">
            <span class="price-amount" data-usd="90" data-unit="session" data-price>$90</span>
            <span class="price-currency" data-currency>/ session</span>
          </p>
          <p><a class="btn" href="#booking">Book Now</a></p>
        </div>

        <!-- Premium -->
        <div class="panel">
          <h3>Premium</h3>
          <p>For full‚Äëday care and evening coverage with bedtime routine.</p>
          <ul>
            <li>Up to 10 hours of care</li>
            <li>Full activity schedule</li>
            <li>Homework &amp; bedtime support</li>
          </ul>
          <p class="price-line">
            <span class="price-amount" data-usd="150" data-unit="day" data-price>$150</span>
            <span class="price-currency" data-currency>/ day</span>
          </p>
          <p><a class="btn" href="#booking">Book Now</a></p>
        </div>
      </div>

      <!-- Currency Converter -->
      <div class="panel converter" aria-labelledby="converter-title">
        <h3 id="converter-title">Currency Converter</h3>
        <div class="row">
          <div>
            <label for="conv-amount">Amount</label>
            <input id="conv-amount" type="number" step="0.01" placeholder="Enter amount" />
          </div>
          <div>
            <label for="conv-from">From</label>
            <select id="conv-from">
              <option value="USD">USD ($)</option>
              <option value="ZAR">ZAR (R)</option>
              <option value="GBP">GBP (¬£)</option>
              <option value="EUR">EUR (‚Ç¨)</option>
            </select>
          </div>
          <div>
            <label for="conv-to">To</label>
            <select id="conv-to">
              <option value="ZAR">ZAR (R)</option>
              <option value="USD">USD ($)</option>
              <option value="GBP">GBP (¬£)</option>
              <option value="EUR">EUR (‚Ç¨)</option>
            </select>
          </div>
        </div>
        <!-- Editable rates (base is USD). Update these and click ‚ÄúConvert‚Äù to refresh. -->
        <div class="row">
          <div>
            <label for="rate-usd-zar">Rate: 1 USD = ZAR</label>
            <input id="rate-usd-zar" type="number" step="0.0001" value="18.50" />
          </div>
          <div>
            <label for="rate-usd-gbp">Rate: 1 USD = GBP</label>
            <input id="rate-usd-gbp" type="number" step="0.0001" value="0.79" />
          </div>
          <div>
            <label for="rate-usd-eur">Rate: 1 USD = EUR</label>
            <input id="rate-usd-eur" type="number" step="0.0001" value="0.92" />
          </div>
        </div>
        <button class="btn primary" id="conv-btn" style="width:max-content; margin-top:6px;">Convert</button>
        <div class="conv-result" id="conv-result" aria-live="polite"></div>
        <div class="small">Tip: after changing rates, tap USD/ZAR/GBP/EUR above to refresh card prices.</div>
      </div>

      <p class="small" style="margin-top:10px;">*Prices are indicative and may vary by lodge location and special requests.</p>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" aria-labelledby="contact-title">
    <div class="wrap grid cols-2">
      <div class="panel">
        <h2 id="contact-title">Contact</h2>
        <p>Email: <a href="mailto:hello@safari-childcare.example">hello@safari-childcare.example</a></p>
        <p>Phone: <a href="tel:+10000000000">+1 (000) 000‚Äë0000</a></p>
        <p>Lodges: We partner with select camps and can also assess new sites on request.</p>
      </div>
      <div class="panel">
        <h3>Send us a message</h3>
        <form id="contactForm" action="https://formspree.io/f/YOUR_FORMSPREE_ID" method="POST">
          <div class="row">
            <div>
              <label for="c-name">Name</label>
              <input id="c-name" name="name" required />
            </div>
            <div>
              <label for="c-email">Email</label>
              <input id="c-email" name="email" type="email" required />
            </div>
          </div>
          <div class="row">
            <div>
              <label for="c-phone">Phone</label>
              <input id="c-phone" name="phone" />
            </div>
            <div>
              <label for="c-subject">Subject</label>
              <input id="c-subject" name="subject" value="General enquiry" />
            </div>
          </div>
          <div style="margin-top:12px">
            <label for="c-message">Message</label>
            <textarea id="c-message" name="message" rows="5" required></textarea>
          </div>
          <button class="btn primary" type="submit" style="margin-top:12px">Send message</button>
          <div class="status" id="c-status" aria-live="polite"></div>
        </form>
      </div>
    </div>
  </section>

  <footer><div class="footer-inner"><div>¬© <span id="year"></span> Safari Holiday Childcare</div></div></footer>

  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // ========= Mouse/Touch Tilt =========
    (function(){
      const root = document.documentElement, wrap = document.getElementById('cubeWrap'), cube = document.getElementById('cube');
      let targetX=0, targetY=0, curX=0, curY=0; const maxTilt=6; const lerp=(a,b,t)=>a+(b-a)*t;
      function animate(){ curX=lerp(curX,targetX,0.08); curY=lerp(curY,targetY,0.08);
        root.style.setProperty('--tiltX', curX.toFixed(2)+'deg'); root.style.setProperty('--tiltY', curY.toFixed(2)+'deg');
        requestAnimationFrame(animate); } animate();
      function onMove(e){ const r=wrap.getBoundingClientRect(), cx=r.left+r.width/2, cy=r.top+r.height/2, p=e.touches?e.touches[0]:e;
        const x=p.clientX-cx, y=p.clientY-cy; targetY=Math.max(-maxTilt, Math.min(maxTilt, (x/(r.width/2))*maxTilt));
        targetX=Math.max(-maxTilt, Math.min(maxTilt, (-y/(r.height/2))*maxTilt)); }
      function onLeave(){ targetX=0; targetY=0; }
      window.addEventListener('pointermove', onMove, {passive:true}); window.addEventListener('pointerleave', onLeave);
      window.addEventListener('touchmove', onMove, {passive:true}); window.addEventListener('blur', onLeave);
      let paused=false; window.addEventListener('pointerdown', ()=>{ paused=!paused; cube.classList.toggle('paused', paused); });
    })();

    // ========= Currency Toggle (USD / ZAR / GBP / EUR) =========
    (function(){
      // Base rates: 1 USD equals the following (editable via converter)
      let rates = { ZAR: 18.50, GBP: 0.79, EUR: 0.92 };

      const btnUSD = document.getElementById('btnUSD');
      const btnZAR = document.getElementById('btnZAR');
      const btnGBP = document.getElementById('btnGBP');
      const btnEUR = document.getElementById('btnEUR');

      const priceEls = document.querySelectorAll('[data-price]');
      const currencyEls = document.querySelectorAll('[data-currency]');

      function unitText(el){ const unit=(el.getAttribute('data-unit')||'session'); return unit==='day' ? '/ day' : '/ session'; }
      function setActive(code){
        [btnUSD,btnZAR,btnGBP,btnEUR].forEach(b=>{ b.classList.toggle('active', b.id.toUpperCase().includes(code)); b.setAttribute('aria-pressed', String(b.classList.contains('active'))); });
      }

      function renderUSD(){
        priceEls.forEach(el=>{
          const usd = Number(el.getAttribute('data-usd')||'0');
          el.textContent = `$${usd.toFixed(0)}`;
        });
        currencyEls.forEach((c,i)=>{ c.textContent = unitText(priceEls[i]); });
        setActive('USD');
      }
      function renderZAR(){
        priceEls.forEach(el=>{
          const usd = Number(el.getAttribute('data-usd')||'0');
          el.textContent = `R${Math.round(usd * rates.ZAR).toLocaleString('en-ZA')}`;
        });
        currencyEls.forEach((c,i)=>{ c.textContent = unitText(priceEls[i]); });
        setActive('ZAR');
      }
      function renderGBP(){
        priceEls.forEach(el=>{
          const usd = Number(el.getAttribute('data-usd')||'0');
          el.textContent = `¬£${(usd * rates.GBP).toFixed(0)}`;
        });
        currencyEls.forEach((c,i)=>{ c.textContent = unitText(priceEls[i]); });
        setActive('GBP');
      }
      function renderEUR(){
        priceEls.forEach(el=>{
          const usd = Number(el.getAttribute('data-usd')||'0');
          el.textContent = `‚Ç¨${(usd * rates.EUR).toFixed(0)}`;
        });
        currencyEls.forEach((c,i)=>{ c.textContent = unitText(priceEls[i]); });
        setActive('EUR');
      }

      btnUSD.addEventListener('click', renderUSD);
      btnZAR.addEventListener('click', renderZAR);
      btnGBP.addEventListener('click', renderGBP);
      btnEUR.addEventListener('click', renderEUR);

      // Hook for converter to update rates + re-render a chosen currency
      window.__updateRatesAndRefresh = function(newRates, targetCode){
        rates = { ...rates, ...newRates };
        ({USD:renderUSD, ZAR:renderZAR, GBP:renderGBP, EUR:renderEUR}[targetCode] || renderUSD)();
      };

      // Initial render (USD), prices also visible statically if JS fails
      renderUSD();
    })();

    // ========= Currency Converter (multi) =========
    (function(){
      const amountEl = document.getElementById('conv-amount');
      const fromEl   = document.getElementById('conv-from');
      const toEl     = document.getElementById('conv-to');
      const rateZAR  = document.getElementById('rate-usd-zar');
      const rateGBP  = document.getElementById('rate-usd-gbp');
      const rateEUR  = document.getElementById('rate-usd-eur');
      const btn      = document.getElementById('conv-btn');
      const out      = document.getElementById('conv-result');

      // Helpers: convert via USD as base
      function toUSD(amount, code, rates){
        if(code==='USD') return amount;
        if(code==='ZAR') return amount / rates.ZAR;
        if(code==='GBP') return amount / rates.GBP;
        if(code==='EUR') return amount / rates.EUR;
        return amount;
      }
      function fromUSD(usd, code, rates){
        if(code==='USD') return usd;
        if(code==='ZAR') return usd * rates.ZAR;
        if(code==='GBP') return usd * rates.GBP;
        if(code==='EUR') return usd * rates.EUR;
        return usd;
      }
      function fmt(amount, code){
        const opts = { maximumFractionDigits:2 };
        if(code==='USD') return `$${amount.toFixed(2)}`;
        if(code==='ZAR') return `R${amount.toLocaleString('en-ZA', opts)}`;
        if(code==='GBP') return `¬£${amount.toFixed(2)}`;
        if(code==='EUR') return `‚Ç¨${amount.toFixed(2)}`;
        return amount.toFixed(2);
      }

      function convertAndShow(){
        const amount = Number(amountEl.value||0);
        const from = fromEl.value, to = toEl.value;
        const rates = {
          ZAR: Number(rateZAR.value||18.5),
          GBP: Number(rateGBP.value||0.79),
          EUR: Number(rateEUR.value||0.92),
        };
        if(!amount){ out.textContent='Enter an amount.'; return; }

        const usd = toUSD(amount, from, rates);
        const res = fromUSD(usd, to, rates);
        out.textContent = `${fmt(amount, from)} = ${fmt(res, to)}`;

        // Also push new rates to the pricing toggle and refresh the chosen currency view
        window.__updateRatesAndRefresh(rates, to);
      }

      btn.addEventListener('click', convertAndShow);
      [amountEl, rateZAR, rateGBP, rateEUR].forEach(el=>{
        el.addEventListener('keydown',(e)=>{ if(e.key==='Enter'){ e.preventDefault(); convertAndShow(); }});
      });
    })();

    // ========= Forms (AJAX submit via Formspree) =========
    function wireForm(formId, statusId){
      const form = document.getElementById(formId), status = document.getElementById(statusId);
      if(!form) return;
      form.addEventListener('submit', async (e)=>{
        e.preventDefault(); status.textContent = 'Sending‚Ä¶';
        try{
          const res = await fetch(form.action, { method:'POST', body:new FormData(form), headers:{ 'Accept':'application/json' } });
          if(res.ok){ status.textContent = 'Thanks! We\'ll get back to you shortly.'; form.reset(); }
          else { status.textContent = 'There was a problem sending your message. Please try again.'; }
        }catch(err){ status.textContent = 'Network error. Please try again.'; }
      });
    }
    wireForm('quickRequest','qr-status'); wireForm('contactForm','c-status');
  </script>
</body>
</html>
